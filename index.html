<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WTP Operator Simulator</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <div id="game-container">
      <div id="view-control-room" class="view active">
        <div id="control-room-ui">
          <div id="operator-panel">
            <img src="img/characters/operator-neutral.png" alt="Operator" />
          </div>
          <div id="scada-panel">
            <div class="scada-header">
              <h1>PLANT STATUS</h1>
              <div class="header-time">SHIFT TIME: 08:00</div>
            </div>
            <div class="scada-alarms">
              <h2>ACTIVE ALARMS</h2>
              <ul id="alarm-list"></ul>
            </div>
          </div>
          <div id="menu-panel">
            <button id="btn-labs" class="menu-button">SIMULATOR LABS</button>
            <button id="btn-sop" class="menu-button">DIGITAL SOP</button>
          </div>
        </div>
      </div>

      <div id="view-scenario" class="view">
        <div class="scenario-ui">
          <div class="scenario-colleague">
            <img
              id="colleague-avatar"
              src="img/characters/operator-neutral.png"
              alt="Operator colleague"
            />
            <div id="colleague-speech-bubble" class="speech-bubble"></div>
          </div>
          <div class="scenario-main">
            <h1 id="scenario-title"></h1>
            <div id="scenario-scada-panel" class="scada-panel"></div>
            <div id="scenario-choices" class="choices-grid"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- MODALS -->
    <div id="modal-labs" class="modal-overlay hidden">
      <div class="modal-content">
        <h1>SIMULATOR LABS</h1>
        <div class="sop-content">
          <h3>Advanced Process Simulators</h3>
          <p>Explore complex water treatment phenomena through specialized interactive labs.</p>
          <ul style="list-style: none; padding: 20px 0;">
            <li style="margin-bottom: 15px;">
              <a href="https://boxwrench.github.io/cell-auto/" target="_blank" class="menu-button" style="display: block; text-decoration: none; padding: 10px; font-size: 14px;">Cellular Automata - Flocculation</a>
            </li>
            <li>
              <a href="https://boxwrench.github.io/hydroflow-ca-/" target="_blank" class="menu-button" style="display: block; text-decoration: none; padding: 10px; font-size: 14px;">HydroFlow - Flow Simulation</a>
            </li>
          </ul>
        </div>
        <button id="btn-close-labs" class="menu-button">CLOSE</button>
      </div>
    </div>

    <div id="modal-sop" class="modal-overlay hidden">
      <div class="modal-content">
        <h1>DIGITAL SOP</h1>
        <div class="sop-content">
          <h3>Standard Operating Procedures</h3>
          <p>1. Monitor SCADA panels for alarm conditions.</p>
          <p>2. Investigate alarms by visiting the relevant process area.</p>
          <p>3. Consult with colleagues to identify root causes.</p>
          <p>4. Implement corrective actions and verify resolution.</p>
        </div>
        <button id="btn-close-sop" class="menu-button">CLOSE</button>
      </div>
    </div>

    <div id="modal-end-shift" class="modal-overlay hidden">
      <div class="modal-content">
        <h1>SHIFT COMPLETE</h1>
        <p>Great work, operator! The plant is stable and the next shift has arrived.</p>
        <button id="btn-restart-shift" class="menu-button">START NEW SHIFT</button>
      </div>
    </div>

    <script defer src="js/scenarios/issue1_filterBreakthrough.js"></script>
    <script defer src="js/scenarios/issue4_chloraminationImbalance.js"></script>
    <script defer src="js/scenarios/issue7_weakChemicalStrength.js"></script>
    <script defer src="js/scenarios/issue8_backwashWaterRecovery.js"></script>
    <script defer src="js/scenarios/issue10_finishedWaterQuality.js"></script>

    <script defer src="js/main.js"></script>
  </body>
</html>
